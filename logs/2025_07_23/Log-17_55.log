2025-07-23 17:55:18 INFO  com.raymedis.rxviewui.service.study.StudyMainController - Console is ON
2025-07-23 17:55:18 INFO  com.raymedis.rxviewui.service.database.DatabaseController - Setting visibility for field: accession number
2025-07-23 17:55:18 INFO  com.raymedis.rxviewui.service.database.DatabaseController - Setting visibility for field: age
2025-07-23 17:55:18 INFO  com.raymedis.rxviewui.service.database.DatabaseController - Setting visibility for field: height
2025-07-23 17:55:18 INFO  com.raymedis.rxviewui.service.database.DatabaseController - Setting visibility for field: institution
2025-07-23 17:55:18 INFO  com.raymedis.rxviewui.service.database.DatabaseController - Setting visibility for field: patient id
2025-07-23 17:55:18 INFO  com.raymedis.rxviewui.service.database.DatabaseController - Setting visibility for field: patient name
2025-07-23 17:55:18 INFO  com.raymedis.rxviewui.service.database.DatabaseController - Setting visibility for field: performing physician
2025-07-23 17:55:18 INFO  com.raymedis.rxviewui.service.database.DatabaseController - Setting visibility for field: procedure
2025-07-23 17:55:18 INFO  com.raymedis.rxviewui.service.database.DatabaseController - Setting visibility for field: study description
2025-07-23 17:55:22 INFO  com.raymedis.rxviewui.controller.LoginPage - logged In
2025-07-23 17:55:22 INFO  com.raymedis.rxviewui.service.login.LoginController - 192.168.12.10
2025-07-23 17:55:22 INFO  com.raymedis.rxviewui.service.login.LoginController - ip mismatched 192.168.28.232 and 192.168.12.10
2025-07-23 17:55:22 INFO  com.raymedis.rxviewui.service.login.LoginController - IP not found
2025-07-23 17:55:22 INFO  com.raymedis.rxviewui.service.json.WifiSettings - 192.168.12.10
2025-07-23 17:55:22 INFO  com.raymedis.rxviewui.service.json.WifiSettings - Batch file created: set_static_ip.bat 
2025-07-23 17:55:22 INFO  com.raymedis.rxviewui.service.json.WifiSettings - Running batch file as admin...
2025-07-23 17:55:22 INFO  com.raymedis.rxviewui.service.fpdSdks.controller.FpdController - Loading detector: X221AW2-B1C, SDK type: RAD_INNOCARE
2025-07-23 17:55:22 INFO  com.raymedis.rxviewui.service.login.LoginController - initialized
2025-07-23 17:55:23 INFO  com.raymedis.rxviewui.service.study.StudyMainController - Setting console values for body part: Chest
2025-07-23 17:55:23 INFO  com.raymedis.rxviewui.modules.serialPortCom.SerialPortManager - Setting Xray Console - kv: 70.0, ma: 80, mas: 4.0
2025-07-23 17:55:23 INFO  com.raymedis.serialPortCommunication.rxview_consolecom_old.RxPanelInitializationOld - Available COM ports:
2025-07-23 17:55:23 INFO  com.raymedis.rxviewui.modules.serialPortCom.SerialPortManager - setMa kv1: 70.0, ma1: 80.0
2025-07-23 17:55:23 INFO  com.raymedis.rxviewui.modules.serialPortCom.SerialPortManager - x: 175
2025-07-23 17:55:23 INFO  com.raymedis.rxviewui.modules.serialPortCom.SerialPortManager - Current Sent: 80.0
2025-07-23 17:55:23 INFO  com.raymedis.rxviewui.modules.serialPortCom.SerialPortManager - Calibration Val: 8.32
2025-07-23 17:55:23 INFO  com.raymedis.rxviewui.modules.serialPortCom.SerialPortManager - Calibration Val: 8.49
2025-07-23 17:55:23 INFO  com.raymedis.rxviewui.modules.serialPortCom.SerialPortManager - Calibration Val: 8.29
2025-07-23 17:55:23 INFO  com.raymedis.rxviewui.modules.serialPortCom.SerialPortManager - Calibration Val: 8.49
2025-07-23 17:55:23 INFO  com.raymedis.rxviewui.modules.serialPortCom.SerialPortManager - filamentCurrent: 8.32
2025-07-23 17:55:23 INFO  com.raymedis.rxviewui.modules.serialPortCom.SerialPortManager - KV Sent : 70.0
2025-07-23 17:55:23 INFO  com.raymedis.rxviewui.modules.serialPortCom.SerialPortManager - Calibration Val: 8.32
2025-07-23 17:55:23 INFO  com.raymedis.rxviewui.modules.serialPortCom.SerialPortManager - Calibration Val: 8.49
2025-07-23 17:55:23 INFO  com.raymedis.rxviewui.modules.serialPortCom.SerialPortManager - Calibration Val: 8.29
2025-07-23 17:55:23 INFO  com.raymedis.serialPortCommunication.rxview_consolecom_old.TriggerCommandRxOld - Serial port is not open.
2025-07-23 17:55:23 INFO  com.raymedis.rxviewui.modules.serialPortCom.SerialPortManager - Calibration Val: 8.49
2025-07-23 17:55:23 INFO  com.raymedis.rxviewui.modules.serialPortCom.SerialPortManager - In short sending KV: 208
2025-07-23 17:55:23 INFO  com.raymedis.rxviewui.modules.serialPortCom.SerialPortManager - In byte sending KV: -48
2025-07-23 17:55:23 INFO  com.raymedis.rxviewui.modules.serialPortCom.SerialPortManager - setExposureTime 0.05
2025-07-23 17:55:23 INFO  com.raymedis.rxviewui.modules.serialPortCom.SerialPortManager - Exposure Time Sent - 50
2025-07-23 17:55:23 INFO  com.raymedis.serialPortCommunication.rxview_consolecom_old.TriggerCommandRxOld - Setting KV to: -48
2025-07-23 17:55:23 INFO  com.raymedis.serialPortCommunication.rxview_consolecom_old.TriggerCommandRxOld - Serial port is not open.
2025-07-23 17:55:23 INFO  com.raymedis.serialPortCommunication.rxview_consolecom_old.TriggerCommandRxOld - Setting Exposure Time to: 50 0 and G
2025-07-23 17:55:23 INFO  com.raymedis.serialPortCommunication.rxview_consolecom_old.TriggerCommandRxOld - Serial port is not open.
2025-07-23 17:55:23 INFO  com.raymedis.serialPortCommunication.rxview_consolecom_old.RxPanelInitializationOld - - COM6: USB-SERIAL CH340 (COM6)
2025-07-23 17:55:23 INFO  com.raymedis.serialPortCommunication.rxview_consolecom_old.RxPanelInitializationOld - - COM5: USB-SERIAL CH340 (COM5)
2025-07-23 17:55:23 INFO  com.raymedis.serialPortCommunication.rxview_consolecom_old.RxPanelInitializationOld - Available COM ports:
2025-07-23 17:55:23 INFO  com.raymedis.serialPortCommunication.rxview_consolecom_old.RxPanelInitializationOld - - COM6: USB-SERIAL CH340 (COM6)
2025-07-23 17:55:23 INFO  com.raymedis.serialPortCommunication.rxview_consolecom_old.RxPanelInitializationOld - - COM5: USB-SERIAL CH340 (COM5)
2025-07-23 17:55:23 INFO  com.raymedis.serialPortCommunication.rxview_consolecom_old.RxPanelInitializationOld - Connected to RX panel.
2025-07-23 17:55:23 INFO  com.raymedis.serialPortCommunication.rxview_consolecom_old.ReceiveCommandRxOld - requested interlocks, attempt 1
2025-07-23 17:55:25 INFO  com.raymedis.serialPortCommunication.rxview_consolecom_old.ReceiveCommandRxOld - Interlock attempt 1 failed.
2025-07-23 17:55:25 INFO  com.raymedis.serialPortCommunication.rxview_consolecom_old.ReceiveCommandRxOld - requested interlocks, attempt 2
2025-07-23 17:55:25 ERROR com.raymedis.rxviewui.service.fpdSdks.controller.FpdController - No devices found
2025-07-23 17:55:25 INFO  com.raymedis.rxviewui.service.login.LoginController - No devices found!!!
2025-07-23 17:55:27 INFO  com.raymedis.rxviewui.service.study.StudyService - current bodyPart chest AP
2025-07-23 17:55:27 INFO  com.raymedis.rxviewui.service.preProcessing.PreProcess - Processing body part: chest
2025-07-23 17:55:27 INFO  com.raymedis.rxviewui.service.preProcessing.PreProcess - Mat is 16-bit unsigned
2025-07-23 17:55:27 INFO  com.raymedis.serialPortCommunication.rxview_consolecom_old.ReceiveCommandRxOld - Interlock attempt 2 failed.
2025-07-23 17:55:27 INFO  com.raymedis.serialPortCommunication.rxview_consolecom_old.ReceiveCommandRxOld - requested interlocks, attempt 3
2025-07-23 17:55:29 INFO  com.raymedis.serialPortCommunication.rxview_consolecom_old.ReceiveCommandRxOld - Interlock attempt 3 failed.
2025-07-23 17:55:29 INFO  com.raymedis.serialPortCommunication.rxview_consolecom_old.ReceiveCommandRxOld - Failed to retrieve interlocks after 3 attempts. Exiting.
2025-07-23 17:55:29 INFO  com.raymedis.rxviewui.modules.serialPortCom.SerialPortCommunicationService - Received response: INTERLOCK_FAILED
2025-07-23 17:55:29 INFO  com.raymedis.rxviewui.modules.serialPortCom.SerialPortCommunicationService - Received response: INTERLOCK_FAILED
2025-07-23 17:55:29 INFO  com.raymedis.rxviewui.modules.serialPortCom.SerialPortCommunicationService - Interlock failed.
2025-07-23 17:55:29 INFO  com.raymedis.serialPortCommunication.rxview_consolecom_old.RxPanelInitializationOld - Disconnecting from RX panel...
2025-07-23 17:55:29 INFO  com.raymedis.serialPortCommunication.rxview_consolecom_old.RxPanelInitializationOld - Disconnected Port due to interlock issues.
2025-07-23 17:55:29 INFO  com.raymedis.rxviewui.service.study.StudyMainController - done
2025-07-23 17:55:29 INFO  com.raymedis.rxviewui.service.study.StudyService - Image received Found in FPD
2025-07-23 17:55:29 INFO  com.raymedis.rxviewui.service.study.StudyService - mat size 838 * 1024
2025-07-23 17:55:29 INFO  com.raymedis.rxviewui.service.study.StudyService - study mat.rows() * width : 1024 1024.0
2025-07-23 17:55:30 INFO  com.raymedis.rxviewui.modules.ImageProcessing.imageToolsWrapper.ImageDrawWrapperHandling - crop rect before CropLayoutWrapper{rectX=0.0, rectY=0.0, rectWidth=0.0, rectHeight=0.0} and multiple is 1.0
2025-07-23 17:55:30 INFO  com.raymedis.rxviewui.modules.ImageProcessing.DrawToolsResource.MainDrawTool - ImagingParams is null
2025-07-23 17:55:30 INFO  com.raymedis.rxviewui.modules.ImageProcessing.DrawToolsResource.MainDrawTool - HFlip is false, not applying HFlip
2025-07-23 17:55:30 INFO  com.raymedis.rxviewui.modules.ImageProcessing.DrawToolsResource.MainDrawTool - L/R Label: L
2025-07-23 17:55:30 INFO  com.raymedis.rxviewui.modules.ImageProcessing.DrawToolsResource.MainDrawTool - Text: Some Text
2025-07-23 17:55:30 INFO  com.raymedis.rxviewui.modules.ImageProcessing.DrawToolsResource.MainDrawTool - Position Value: 175.0
2025-07-23 17:55:30 INFO  com.raymedis.rxviewui.modules.ImageProcessing.DrawToolsResource.MainDrawTool - Invalid position value: 175.0
2025-07-23 17:55:34 INFO  com.raymedis.rxviewui.modules.ImageProcessing.DrawToolsResource.CropLayout - rectX: 396.5276595744681, rectY: 0.0, rectWidth: 441.472340425532, rectHeight: 1024.0
2025-07-23 17:55:34 INFO  com.raymedis.rxviewui.modules.ImageProcessing.DrawToolsResource.MainDrawTool - rect : 396.5276595744681, 0.0 441.472340425532 1024.0
2025-07-23 17:55:38 INFO  com.raymedis.rxviewui.service.study.StudyMainController - Saving for Pacs...
2025-07-23 17:55:38 INFO  com.raymedis.rxviewui.modules.ImageProcessing.imageToolsWrapper.ImageDrawWrapperHandling - ========================================================================
2025-07-23 17:55:38 INFO  com.raymedis.rxviewui.modules.ImageProcessing.imageToolsWrapper.ImageDrawWrapperHandling - Crop Layout X: 396.5276595744681, Y: 0.0, Width: 441.472340425532, Height: 1024.0
2025-07-23 17:55:39 INFO  com.raymedis.rxviewui.modules.dicom.DicomService - DicomService loaded with patient: EMERGENCY20250723175523
2025-07-23 17:55:39 INFO  com.raymedis.rxviewui.modules.dicom.DicomService - Status : Uploading Begins
2025-07-23 17:55:39 INFO  com.raymedis.rxviewui.modules.dicom.DicomService - Creating DICOM File/s...
2025-07-23 17:55:39 INFO  com.raymedis.rxviewui.service.export.ExportStudyService - ExportStudyService initialized.
2025-07-23 17:55:39 INFO  com.raymedis.rxviewui.service.export.ExportStudyService - Exporting body part: Chest
2025-07-23 17:55:39 INFO  com.raymedis.rxviewui.service.study.StudyService - mat size 838 * 1024
2025-07-23 17:55:39 INFO  com.raymedis.rxviewui.service.study.StudyService - study mat.rows() * width : 1024 1024.0
2025-07-23 17:55:39 INFO  com.raymedis.rxviewui.service.export.ExportStudyService - Crop Rect: {1181, 0, 1315x3052}
2025-07-23 17:55:39 INFO  com.raymedis.rxviewui.service.export.ExportStudyService - Crop X: 396.5276595744681, Crop Y: 0.0
2025-07-23 17:55:39 ERROR com.raymedis.rxviewui.modules.dicom.DicomService - DICOM File creation failed: {}
java.lang.IllegalStateException: Not on FX application thread; currentThread = Thread-12
	at javafx.graphics@21/com.sun.javafx.tk.Toolkit.checkFxUserThread(Toolkit.java:294)
	at javafx.graphics@21/com.sun.javafx.tk.quantum.QuantumToolkit.checkFxUserThread(QuantumToolkit.java:475)
	at javafx.graphics@21/javafx.scene.Node.snapshot(Node.java:2182)
	at com.raymedis.rxviewui/com.raymedis.rxviewui.service.export.ExportStudyService.getAnnotatedImage(ExportStudyService.java:619)
	at com.raymedis.rxviewui/com.raymedis.rxviewui.service.export.ExportStudyService.exportStudy(ExportStudyService.java:115)
	at com.raymedis.rxviewui/com.raymedis.rxviewui.modules.dicom.DicomService.createObjects(DicomService.java:212)
	at com.raymedis.rxviewui/com.raymedis.rxviewui.modules.dicom.DicomService.processBodyParts(DicomService.java:162)
	at com.raymedis.rxviewui/com.raymedis.rxviewui.modules.dicom.DicomService$1.call(DicomService.java:122)
	at com.raymedis.rxviewui/com.raymedis.rxviewui.modules.dicom.DicomService$1.call(DicomService.java:114)
	at javafx.graphics@21/javafx.concurrent.Task$TaskCallable.call(Task.java:1399)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-07-23 17:55:39 INFO  com.raymedis.rxviewui.modules.dicom.DicomService - Uploading to server...
2025-07-23 17:55:39 INFO  com.raymedis.rxviewui.modules.dicom.DicomCStore - 
Initiating C-STORE operation...
2025-07-23 17:55:39 ERROR com.raymedis.rxviewui.modules.dicom.DicomService - Failed to create dicom File {}
java.lang.IllegalStateException: Not on FX application thread; currentThread = Thread-12
	at javafx.graphics@21/com.sun.javafx.tk.Toolkit.checkFxUserThread(Toolkit.java:294)
	at javafx.graphics@21/com.sun.javafx.tk.quantum.QuantumToolkit.checkFxUserThread(QuantumToolkit.java:475)
	at javafx.graphics@21/javafx.scene.Node.snapshot(Node.java:2182)
	at com.raymedis.rxviewui/com.raymedis.rxviewui.service.export.ExportStudyService.getAnnotatedImage(ExportStudyService.java:619)
	at com.raymedis.rxviewui/com.raymedis.rxviewui.service.export.ExportStudyService.exportStudy(ExportStudyService.java:115)
	at com.raymedis.rxviewui/com.raymedis.rxviewui.modules.dicom.DicomService.createObjects(DicomService.java:212)
	at com.raymedis.rxviewui/com.raymedis.rxviewui.modules.dicom.DicomService.processBodyParts(DicomService.java:162)
	at com.raymedis.rxviewui/com.raymedis.rxviewui.modules.dicom.DicomService$1.call(DicomService.java:122)
	at com.raymedis.rxviewui/com.raymedis.rxviewui.modules.dicom.DicomService$1.call(DicomService.java:114)
	at javafx.graphics@21/javafx.concurrent.Task$TaskCallable.call(Task.java:1399)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-07-23 17:55:39 INFO  com.raymedis.rxviewui.modules.dicom.DicomService - Status : Upload Failed
2025-07-23 17:55:39 INFO  com.raymedis.rxviewui.modules.ImageProcessing.imageToolsWrapper.ImageDrawWrapperHandling - crop rect before CropLayoutWrapper{rectX=396.5276595744681, rectY=0.0, rectWidth=441.472340425532, rectHeight=1024.0} and multiple is 1.0
2025-07-23 17:55:39 INFO  com.raymedis.rxviewui.modules.ImageProcessing.imageToolsWrapper.ImageDrawWrapperHandling - crop is requested, applying crop layout settings.
2025-07-23 17:55:39 INFO  com.raymedis.rxviewui.modules.dicom.DicomService - Upload completed successfully!
2025-07-23 17:55:39 INFO  com.raymedis.rxviewui.service.study.StudyService - mat size 838 * 1024
2025-07-23 17:55:39 INFO  com.raymedis.rxviewui.service.study.StudyService - study mat.rows() * width : 1024 1024.0
2025-07-23 17:55:39 INFO  com.raymedis.rxviewui.modules.ImageProcessing.imageToolsWrapper.ImageDrawWrapperHandling - crop rect before CropLayoutWrapper{rectX=396.5276595744681, rectY=0.0, rectWidth=441.472340425532, rectHeight=1024.0} and multiple is 1.0
2025-07-23 17:55:39 INFO  com.raymedis.rxviewui.modules.ImageProcessing.imageToolsWrapper.ImageDrawWrapperHandling - crop is requested, applying crop layout settings.
