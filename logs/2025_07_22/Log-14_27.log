2025-07-22 14:27:33 INFO  c.r.r.s.study.StudyMainController - Console is ON
2025-07-22 14:27:33 INFO  c.r.r.s.database.DatabaseController - Setting visibility for field: accession number
2025-07-22 14:27:33 INFO  c.r.r.s.database.DatabaseController - Setting visibility for field: age
2025-07-22 14:27:33 INFO  c.r.r.s.database.DatabaseController - Setting visibility for field: height
2025-07-22 14:27:33 INFO  c.r.r.s.database.DatabaseController - Setting visibility for field: institution
2025-07-22 14:27:33 INFO  c.r.r.s.database.DatabaseController - Setting visibility for field: patient id
2025-07-22 14:27:33 INFO  c.r.r.s.database.DatabaseController - Setting visibility for field: patient name
2025-07-22 14:27:33 INFO  c.r.r.s.database.DatabaseController - Setting visibility for field: performing physician
2025-07-22 14:27:33 INFO  c.r.r.s.database.DatabaseController - Setting visibility for field: procedure
2025-07-22 14:27:33 INFO  c.r.r.s.database.DatabaseController - Setting visibility for field: study description
2025-07-22 14:27:41 INFO  c.r.rxviewui.controller.LoginPage - logged In
2025-07-22 14:27:41 INFO  c.r.r.service.login.LoginController - 192.168.12.10
2025-07-22 14:27:41 INFO  c.r.r.service.login.LoginController - No Wi-Fi interface found or no IPv4 address assigned.
2025-07-22 14:27:44 INFO  c.r.r.s.study.StudyMainController - Setting console values for body part: Chest
2025-07-22 14:27:44 INFO  c.r.r.m.s.SerialPortManager - Setting Xray Console - kv: 70.0, ma: 80, mas: 4.0
2025-07-22 14:27:44 INFO  c.r.s.r.RxPanelInitializationOld - Available COM ports:
2025-07-22 14:27:44 INFO  c.r.r.m.s.SerialPortManager - setMa kv1: 70.0, ma1: 80.0
2025-07-22 14:27:44 INFO  c.r.r.m.s.SerialPortManager - x: 175
2025-07-22 14:27:44 INFO  c.r.r.m.s.SerialPortManager - Current Sent: 80.0
2025-07-22 14:27:44 INFO  c.r.r.m.s.SerialPortManager - Calibration Val: 8.32
2025-07-22 14:27:44 INFO  c.r.r.m.s.SerialPortManager - Calibration Val: 8.49
2025-07-22 14:27:44 INFO  c.r.r.m.s.SerialPortManager - Calibration Val: 8.29
2025-07-22 14:27:44 INFO  c.r.r.m.s.SerialPortManager - Calibration Val: 8.49
2025-07-22 14:27:44 INFO  c.r.r.m.s.SerialPortManager - filamentCurrent: 8.32
2025-07-22 14:27:44 INFO  c.r.r.m.s.SerialPortManager - KV Sent : 70.0
2025-07-22 14:27:44 INFO  c.r.r.m.s.SerialPortManager - Calibration Val: 8.32
2025-07-22 14:27:44 INFO  c.r.r.m.s.SerialPortManager - Calibration Val: 8.49
2025-07-22 14:27:44 INFO  c.r.r.m.s.SerialPortManager - Calibration Val: 8.29
2025-07-22 14:27:44 INFO  c.r.r.m.s.SerialPortManager - Calibration Val: 8.49
2025-07-22 14:27:44 INFO  c.r.r.m.s.SerialPortManager - In short sending KV: 208
2025-07-22 14:27:44 INFO  c.r.r.m.s.SerialPortManager - In byte sending KV: -48
2025-07-22 14:27:44 INFO  c.r.r.m.s.SerialPortManager - setExposureTime 0.05
2025-07-22 14:27:44 INFO  c.r.r.m.s.SerialPortManager - Exposure Time Sent - 50
2025-07-22 14:27:44 INFO  c.r.s.r.TriggerCommandRxOld - Serial port is not open.
2025-07-22 14:27:44 INFO  c.r.s.r.TriggerCommandRxOld - Setting KV to: -48
2025-07-22 14:27:44 INFO  c.r.s.r.TriggerCommandRxOld - Serial port is not open.
2025-07-22 14:27:44 INFO  c.r.s.r.TriggerCommandRxOld - Setting Exposure Time to: 50 0 and G
2025-07-22 14:27:44 INFO  c.r.s.r.TriggerCommandRxOld - Serial port is not open.
2025-07-22 14:27:44 INFO  c.r.s.r.RxPanelInitializationOld - - COM6: USB-SERIAL CH340 (COM6)
2025-07-22 14:27:44 INFO  c.r.s.r.RxPanelInitializationOld - - COM5: USB-SERIAL CH340 (COM5)
2025-07-22 14:27:44 INFO  c.r.s.r.RxPanelInitializationOld - Available COM ports:
2025-07-22 14:27:44 INFO  c.r.s.r.RxPanelInitializationOld - - COM6: USB-SERIAL CH340 (COM6)
2025-07-22 14:27:44 INFO  c.r.s.r.RxPanelInitializationOld - - COM5: USB-SERIAL CH340 (COM5)
2025-07-22 14:27:44 INFO  c.r.s.r.RxPanelInitializationOld - Connected to RX panel.
2025-07-22 14:27:44 INFO  c.r.s.r.ReceiveCommandRxOld - requested interlocks, attempt 1
2025-07-22 14:27:45 INFO  c.r.r.service.study.StudyService - current bodyPart chest AP
2025-07-22 14:27:45 INFO  c.r.r.s.preProcessing.PreProcess - Processing body part: chest
2025-07-22 14:27:45 INFO  c.r.r.s.preProcessing.PreProcess - Mat is 16-bit unsigned
2025-07-22 14:27:46 INFO  c.r.s.r.ReceiveCommandRxOld - Interlock attempt 1 failed.
2025-07-22 14:27:46 INFO  c.r.s.r.ReceiveCommandRxOld - requested interlocks, attempt 2
2025-07-22 14:27:47 INFO  c.r.r.service.study.StudyService - Image received Found in FPD
2025-07-22 14:27:47 INFO  c.r.r.service.study.StudyService - org : CV_16UC1
2025-07-22 14:27:48 INFO  c.r.r.service.study.StudyService - study mat.rows() * width : 1024 1024.0
2025-07-22 14:27:48 INFO  c.r.r.service.study.StudyService - study DynamicCanvasElementsResize values set with multiple: 1.0
2025-07-22 14:27:48 INFO  c.r.r.service.study.StudyService - study Line Width: 2.0, Ellipse Radius X: 8.0, Ellipse Radius Y: 8.0, Label Font Size: 14.0, Rect Width: 90.0, Rect Height: 30.0, Custom Font Icon Size: 200.0
2025-07-22 14:27:48 INFO  c.r.r.m.I.D.MainDrawTool - imaging params 0.0,1.0,3.0,1.0
2025-07-22 14:27:48 INFO  c.r.r.m.I.D.MainDrawTool - Brightness and Contrast 0.0 1.0
2025-07-22 14:27:48 INFO  c.r.r.m.I.D.MainDrawTool - ImagingParams is null
2025-07-22 14:27:48 INFO  c.r.r.m.I.D.MainDrawTool - HFlip is false, not applying HFlip
2025-07-22 14:27:48 INFO  c.r.r.m.I.D.MainDrawTool - L/R Label: L
2025-07-22 14:27:48 INFO  c.r.r.m.I.D.MainDrawTool - Text: Some Text
2025-07-22 14:27:48 INFO  c.r.r.m.I.D.MainDrawTool - Position Value: 175.0
2025-07-22 14:27:48 INFO  c.r.r.m.I.D.MainDrawTool - Invalid position value: 175.0
2025-07-22 14:27:48 INFO  c.r.r.m.I.D.MainDrawTool - imaging params 0.0,1.0,3.0,1.0
2025-07-22 14:27:48 INFO  c.r.r.m.I.D.MainDrawTool - Brightness and Contrast 0.0 1.0
2025-07-22 14:27:48 INFO  c.r.s.r.ReceiveCommandRxOld - Interlock attempt 2 failed.
2025-07-22 14:27:48 INFO  c.r.s.r.ReceiveCommandRxOld - requested interlocks, attempt 3
2025-07-22 14:27:50 INFO  c.r.s.r.ReceiveCommandRxOld - Interlock attempt 3 failed.
2025-07-22 14:27:50 INFO  c.r.s.r.ReceiveCommandRxOld - Failed to retrieve interlocks after 3 attempts. Exiting.
2025-07-22 14:27:50 INFO  c.r.r.m.s.SerialPortCommunicationService - Received response: INTERLOCK_FAILED
2025-07-22 14:27:50 INFO  c.r.r.m.s.SerialPortCommunicationService - Received response: INTERLOCK_FAILED
2025-07-22 14:27:50 INFO  c.r.r.m.s.SerialPortCommunicationService - Interlock failed.
2025-07-22 14:27:50 INFO  c.r.s.r.RxPanelInitializationOld - Disconnecting from RX panel...
2025-07-22 14:27:50 INFO  c.r.s.r.RxPanelInitializationOld - Disconnected Port due to interlock issues.
2025-07-22 14:27:50 INFO  c.r.r.s.study.StudyMainController - done
2025-07-22 14:27:59 INFO  c.r.r.s.study.StudyMainController - Saving for Pacs...
2025-07-22 14:27:59 INFO  c.r.r.m.I.i.ImageDrawWrapperHandling - saved label  LeftRightDrawWrapper{offsetX=50.0, offsetY=50.0, text='LEFT'} 
2025-07-22 14:27:59 INFO  c.r.r.m.I.i.ImageDrawWrapperHandling - ========================================================================
2025-07-22 14:27:59 INFO  c.r.r.m.I.i.ImageDrawWrapperHandling - Crop Layout X: 0.0, Y: 0.0, Width: 838.0, Height: 1024.0
2025-07-22 14:27:59 INFO  c.r.r.modules.dicom.DicomService - DicomService loaded with patient: 
2025-07-22 14:27:59 INFO  c.r.r.modules.dicom.DicomService - Status : Uploading Begins
2025-07-22 14:27:59 INFO  c.r.r.modules.dicom.DicomService - Creating DICOM File/s...
2025-07-22 14:27:59 INFO  c.r.r.modules.dicom.DicomService - needsAnnotations
2025-07-22 14:27:59 INFO  c.r.r.service.study.StudyService - study mat.rows() * width : 1024 1024.0
2025-07-22 14:27:59 INFO  c.r.r.service.study.StudyService - study DynamicCanvasElementsResize values set with multiple: 1.0
2025-07-22 14:27:59 INFO  c.r.r.service.study.StudyService - study Line Width: 2.0, Ellipse Radius X: 8.0, Ellipse Radius Y: 8.0, Label Font Size: 14.0, Rect Width: 90.0, Rect Height: 30.0, Custom Font Icon Size: 200.0
2025-07-22 14:27:59 INFO  c.r.r.m.I.D.MainDrawTool - imaging params 0.0,1.0,3.0,1.0
2025-07-22 14:27:59 INFO  c.r.r.m.I.D.MainDrawTool - Brightness and Contrast 0.0 1.0
2025-07-22 14:28:00 INFO  c.r.r.service.study.StudyService - study DynamicCanvasElementsResize values set with multiple: 2.983293556085919
2025-07-22 14:28:00 INFO  c.r.r.service.study.StudyService - study Line Width: 5.966587112171838, Ellipse Radius X: 23.86634844868735, Ellipse Radius Y: 23.86634844868735, Label Font Size: 41.766109785202865, Rect Width: 268.49642004773267, Rect Height: 89.49880668257757, Custom Font Icon Size: 596.6587112171837
2025-07-22 14:28:00 INFO  c.r.r.m.I.i.ImageDrawWrapperHandling - apply label  LeftRightDrawWrapper{offsetX=50.0, offsetY=50.0, text='LEFT'} 
2025-07-22 14:28:00 INFO  c.r.rxviewui.controller.ExportStudy - isStorageCropSelected: false
2025-07-22 14:28:01 INFO  c.r.r.modules.dicom.DicomService - resultMat type CV_16UC4
2025-07-22 14:28:01 INFO  c.r.r.modules.dicom.DicomService - path exits
2025-07-22 14:28:01 INFO  c.r.r.modules.dicom.DicomService - D:\Work\RxView\RxView_Nellore_V3/dcmOutput/11.dcm
2025-07-22 14:28:01 WARN  c.r.r.m.I.i.ImageDrawWrapperHandling - Display image is null, cannot apply drawing tools.
2025-07-22 14:28:01 INFO  c.r.r.modules.dicom.DicomCreator - mat type: CV_16UC4, width: 3052, height: 3052, channels: 4
2025-07-22 14:28:01 INFO  c.r.r.modules.dicom.DicomCreator - Unsupported Mat type: CV_16UC4
2025-07-22 14:28:01 ERROR c.r.r.modules.dicom.DicomService - DICOM File creation failed: {}
com.pixelmed.dicom.DicomException: Unsupported Mat pixel data format
	at com.raymedis.rxviewui/com.raymedis.rxviewui.modules.dicom.DicomCreator.generateDICOMPixelModuleFromMatList(DicomCreator.java:452)
	at com.raymedis.rxviewui/com.raymedis.rxviewui.modules.dicom.DicomCreator.<init>(DicomCreator.java:50)
	at com.raymedis.rxviewui/com.raymedis.rxviewui.modules.dicom.DicomService.createDicomFile(DicomService.java:437)
	at com.raymedis.rxviewui/com.raymedis.rxviewui.modules.dicom.DicomService.createObjects(DicomService.java:310)
	at com.raymedis.rxviewui/com.raymedis.rxviewui.modules.dicom.DicomService.processBodyParts(DicomService.java:161)
	at com.raymedis.rxviewui/com.raymedis.rxviewui.modules.dicom.DicomService$1.call(DicomService.java:121)
	at com.raymedis.rxviewui/com.raymedis.rxviewui.modules.dicom.DicomService$1.call(DicomService.java:113)
	at javafx.graphics@21/javafx.concurrent.Task$TaskCallable.call(Task.java:1399)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-07-22 14:28:01 INFO  c.r.r.modules.dicom.DicomService - Uploading to server...
2025-07-22 14:28:01 INFO  c.r.r.modules.dicom.DicomCStore - 
Initiating C-STORE operation...
2025-07-22 14:28:01 INFO  c.r.r.m.I.D.MainDrawTool - imaging params 0.0,1.0,3.0,1.0
2025-07-22 14:28:01 INFO  c.r.r.m.I.D.MainDrawTool - Brightness and Contrast 0.0 1.0
2025-07-22 14:28:02 ERROR c.r.r.modules.dicom.DicomService - Failed to create dicom File {}
com.pixelmed.dicom.DicomException: Unsupported Mat pixel data format
	at com.raymedis.rxviewui/com.raymedis.rxviewui.modules.dicom.DicomCreator.generateDICOMPixelModuleFromMatList(DicomCreator.java:452)
	at com.raymedis.rxviewui/com.raymedis.rxviewui.modules.dicom.DicomCreator.<init>(DicomCreator.java:50)
	at com.raymedis.rxviewui/com.raymedis.rxviewui.modules.dicom.DicomService.createDicomFile(DicomService.java:437)
	at com.raymedis.rxviewui/com.raymedis.rxviewui.modules.dicom.DicomService.createObjects(DicomService.java:310)
	at com.raymedis.rxviewui/com.raymedis.rxviewui.modules.dicom.DicomService.processBodyParts(DicomService.java:161)
	at com.raymedis.rxviewui/com.raymedis.rxviewui.modules.dicom.DicomService$1.call(DicomService.java:121)
	at com.raymedis.rxviewui/com.raymedis.rxviewui.modules.dicom.DicomService$1.call(DicomService.java:113)
	at javafx.graphics@21/javafx.concurrent.Task$TaskCallable.call(Task.java:1399)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-07-22 14:28:02 INFO  c.r.r.modules.dicom.DicomService - Status : Upload Failed
2025-07-22 14:28:02 INFO  c.r.r.modules.dicom.DicomService - Upload completed successfully!
2025-07-22 14:28:02 INFO  c.r.r.service.study.StudyService - study mat.rows() * width : 1024 1024.0
2025-07-22 14:28:02 INFO  c.r.r.service.study.StudyService - study DynamicCanvasElementsResize values set with multiple: 1.0
2025-07-22 14:28:02 INFO  c.r.r.service.study.StudyService - study Line Width: 2.0, Ellipse Radius X: 8.0, Ellipse Radius Y: 8.0, Label Font Size: 14.0, Rect Width: 90.0, Rect Height: 30.0, Custom Font Icon Size: 200.0
2025-07-22 14:28:02 INFO  c.r.r.m.I.D.MainDrawTool - imaging params 0.0,1.0,3.0,1.0
2025-07-22 14:28:02 INFO  c.r.r.m.I.D.MainDrawTool - Brightness and Contrast 0.0 1.0
2025-07-22 14:28:02 INFO  c.r.r.m.I.i.ImageDrawWrapperHandling - apply label  LeftRightDrawWrapper{offsetX=50.0, offsetY=50.0, text='LEFT'} 
2025-07-22 14:28:03 INFO  c.r.r.m.I.D.MainDrawTool - imaging params 0.0,1.0,3.0,1.0
2025-07-22 14:28:03 INFO  c.r.r.m.I.D.MainDrawTool - Brightness and Contrast 0.0 1.0
